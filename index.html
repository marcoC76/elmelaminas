<!DOCTYPE html>
<html lang="es" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>El Melaminas | Catálogo Premium 2026</title>
    <meta name="description"
        content="Catálogo digital de texturas y melaminas premium. Maderas, piedras y unicolores para arquitectura y diseño de interiores. Envíos a todo México.">
    <meta property="og:title" content="El Melaminas | Catálogo Premium">
    <meta property="og:description" content="Descubre nuestra colección exclusiva de texturas para tus proyectos.">
    <meta property="og:image"
        content="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:type" content="website">

    <!-- JSON-LD Structured Data (SEO Improvement 4) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "El Melaminas",
      "image": "https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "C. 2 123-C, Granjas San Antonio",
        "addressLocality": "Iztapalapa",
        "addressRegion": "CDMX",
        "postalCode": "09070",
        "addressCountry": "MX"
      },
      "telephone": "+525551597562",
      "url": "https://elmelaminas.com",
      "priceRange": "$$",
      "description": "Tableros de melamina premium y texturas para arquitectura y diseño."
    }
    </script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700&family=Playfair+Display:wght@400;600;700&display=swap"
        rel="stylesheet">
    <!-- Google Material Symbols -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <!-- Icons (Keeping Phosphor for Brand Logos which Google lacks) -->

    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        /* --- VARIABLES --- */
        :root {
            --primary: #8C7040;
            /* Gold/Brown from image */
            --primary-light: #f4efe6;
            --text-dark: #1a1a1a;
            --text-grey: #666;
            --bg-body: #fafafa;
            --bg-card: #ffffff;
            --radius-lg: 24px;
            --radius-md: 12px;
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.05);
            --shadow-card: 0 8px 30px rgba(0, 0, 0, 0.08);
            --nav-height: 70px;
        }

        [data-theme="dark"] {
            --primary: #d4b475;
            --primary-light: #2c251a;
            --text-dark: #f0f0f0;
            --text-grey: #aaa;
            --bg-body: #121212;
            --bg-card: #1e1e1e;
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-dark);
            padding-bottom: 90px;
            /* Space for bottom nav */
            overflow-x: hidden;
        }

        h1,
        h2,
        h3 {
            font-family: 'Playfair Display', serif;
        }

        img {
            display: block;
            max-width: 100%;
            object-fit: cover;
        }

        button {
            border: none;
            background: none;
            cursor: pointer;
            font-family: inherit;
        }

        a {
            text-decoration: none;
        }

        /* --- LAYOUT UTILS --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .grid-pro {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }

        /* --- HEADER & TOP BAR --- */
        .top-bar {
            padding: 20px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-dark);
            text-decoration: none;
        }

        .brand-logo {
            height: 45px;
            width: auto;
            border-radius: 8px;
            object-fit: contain;
        }

        .icon-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-dark);
            box-shadow: var(--shadow-soft);
            transition: 0.3s;
        }

        /* --- SEARCH --- */
        .search-wrapper {
            background: var(--bg-card);
            border-radius: 50px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-soft);
            margin-bottom: 25px;
        }

        .search-wrapper input {
            border: none;
            outline: none;
            width: 100%;
            background: transparent;
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            color: var(--text-dark);
        }

        /* --- HERO CARD (Image 2 Style) --- */
        .hero-card {
            height: 400px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            position: relative;
            /* background-image removed for parallax */
            margin-bottom: 30px;
            box-shadow: var(--shadow-card);
            transform: translateZ(0);
            /* Fix for Safari border-radius clipping */
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            /* Taller than container for movement */
            background-image: url('https://images.unsplash.com/photo-1617104424032-b9bd6972d0e4?q=80&w=2000&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            z-index: 1;
            will-change: transform;
        }

        .hero-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 30px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            color: #fff;
            z-index: 2;
            /* Ensure on top of bg */
        }

        .hero-tag {
            font-size: 0.75rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #d4b475;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .hero-title {
            font-size: 2.2rem;
            line-height: 1.1;
            margin-bottom: 15px;
        }

        .btn-hero {
            background-color: var(--primary);
            color: #fff;
            padding: 10px 24px;
            border-radius: 30px;
            font-weight: 600;
            display: inline-block;
        }

        /* --- CATEGORY CHIPS (Image 2 Style) --- */
        .category-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 25px;
            scrollbar-width: none;
            /* Hide scrollbar Firefox */
        }

        .category-scroll::-webkit-scrollbar {
            display: none;
        }

        .chip {
            flex-shrink: 0;
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--bg-card);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 500;
            color: var(--text-grey);
            border: 1px solid transparent;
            box-shadow: var(--shadow-soft);
            transition: 0.3s;
        }

        .chip.active {
            background: var(--primary);
            color: #fff;
        }

        .chip i {
            font-size: 1.1rem;
        }

        /* --- PRODUCT GRID --- */
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .prod-card {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            position: relative;
        }

        .badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #fff;
            color: #000;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 4px;
            z-index: 2;
        }

        .prod-img {
            height: 180px;
            overflow: hidden;
        }

        .prod-texture {
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .prod-card:hover .prod-texture {
            transform: scale(1.1);
        }

        .prod-info {
            padding: 12px;
        }

        .prod-name {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 4px;
        }

        .prod-detail {
            font-size: 0.75rem;
            color: var(--text-grey);
            margin-bottom: 12px;
        }

        .btn-sm {
            width: 100%;
            padding: 8px 0;
            border: 1px solid var(--text-grey);
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-dark);
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .btn-sm:hover {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* --- BOTTOM NAV (Mobile) --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--bg-card);
            height: 70px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            z-index: 1000;
            padding-bottom: 10px;
            /* Safe area */
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.05);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.75rem;
            color: #999;
            gap: 4px;
            padding: 8px;
        }

        .nav-item i {
            font-size: 1.5rem;
        }

        .nav-item.active {
            color: var(--primary);
        }

        /* --- MODAL (Centered & Contained) --- */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            /* Center It */
            opacity: 0;
            padding: 20px;
            transition: opacity 0.3s;
            backdrop-filter: blur(5px);
        }

        .modal.open {
            display: flex;
            opacity: 1;
        }

        /* Reset transform for sheet content as we are now just fading/scaling the whole container */
        .modal.open .sheet-content {
            transform: none;
        }

        .sheet-container {
            width: 100%;
            max-width: 900px;
            height: 85vh;
            /* Fixed height for consistency */
            background: var(--bg-card);
            border-radius: 20px;
            overflow: hidden;
            /* Contain children */
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            position: relative;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal.open .sheet-container {
            transform: scale(1);
        }

        .sheet-img {
            height: 250px;
            /* Specific height for mobile */
            flex-shrink: 0;
            position: relative;
            /* Texture bg set by JS */
        }

        .back-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.9);
            color: #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            z-index: 10;
        }

        .actions-top {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .sheet-content {
            flex: 1;
            /* Take remaining space */
            background: var(--bg-card);
            padding: 30px;
            overflow-y: auto;
            /* Internal Scroll */
            margin: 0;
            border-radius: 0;
            transform: none !important;
            /* Override sheet slide */
        }

        .sheet-handle {
            display: none;
        }

        /* No handle needed */

        .spec-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .spec-box {
            background: var(--bg-body);
            padding: 15px;
            border-radius: 12px;
        }

        .spec-label {
            font-size: 0.7rem;
            color: var(--text-grey);
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .spec-val {
            font-weight: 700;
            font-size: 1rem;
        }

        .tech-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .tech-icon {
            width: 40px;
            height: 40px;
            background: #fdf5e6;
            color: var(--primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .app-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .app-thumb {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
        }

        /* Fixed WhatsApp Button inside modal */
        .btn-whatsapp-sheet {
            background: #25D366;
            color: #fff;
            padding: 16px;
            border-radius: 12px;
            font-weight: 600;
            text-align: center;
            font-size: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.2);
            margin-top: 25px;
            /* Spacing */
            transition: 0.3s;
        }

        .btn-whatsapp-sheet:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(37, 211, 102, 0.4);
        }

        /* TEXTURES */
        .wood-texture {
            background: repeating-linear-gradient(90deg, #e6c9a8 0px, #d4b48f 2px, #e6c9a8 5px, #cba479 10px);
        }

        .wood-dark {
            background: repeating-linear-gradient(90deg, #4a3b2a 0px, #3e3022 2px, #4a3b2a 6px);
        }

        .wood-red {
            background: repeating-linear-gradient(90deg, #8a5a44 0px, #754833 2px, #8a5a44 6px);
        }

        .wood-grey {
            background: repeating-linear-gradient(90deg, #a8a8a8 0px, #999 2px, #a8a8a8 6px);
        }

        .stone-texture {
            background: radial-gradient(circle, #f5f5f5 10%, transparent 10%), radial-gradient(circle, #e0e0e0 20%, transparent 20%);
            background-color: #ddd;
            background-size: 20px 20px;
        }

        .stone-dark {
            background-color: #333;
        }

        .solid-texture {
            background-color: #eee;
        }

        .textile-texture {
            background-color: #ccc;
        }

        /* --- NEW SECTIONS --- */
        .info-section {
            padding: 60px 0;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .collapse-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            box-shadow: var(--shadow-soft);
            font-weight: 600;
        }

        .collapse-content {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: 0.3s ease;
            color: var(--text-grey);
        }

        .collapse-content.open {
            padding: 15px;
            max-height: 200px;
        }

        .pro-banner {
            background: linear-gradient(45deg, #1a1a1a, #2c251a);
            color: #fff;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin: 40px 0;
        }

        /* Float WA */
        .wa-float {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #25D366;
            color: white;
            border-radius: 50%;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            text-decoration: none;
            transition: 0.3s;
        }

        .wa-float:hover {
            transform: scale(1.1);
        }

        .wa-float img {
            width: 35px;
            height: 35px;
        }

        /* Use SVG for brand if needed */

        @media(min-width: 768px) {
            .wa-float {
                bottom: 30px;
            }
        }

        /* --- FOOTER (Restored) --- */
        footer {
            background-color: #121212;
            color: #999;
            padding: 60px 0 30px;
            margin-top: 60px;
            border-radius: 20px 20px 0 0;
            /* Modern touch */
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h4 {
            color: #fff;
            margin-bottom: 20px;
            font-size: 1.1rem;
            letter-spacing: 1px;
        }

        .footer-col ul li {
            margin-bottom: 12px;
        }

        .footer-col ul li a {
            transition: 0.3s;
            display: inline-block;
        }

        .footer-col ul li a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: #fff;
            text-decoration: none;
            transition: 0.3s;
        }

        .social-btn:hover {
            background: var(--primary);
            transform: translateY(-3px);
        }

        /* --- MICRO-INTERACTIONS --- */
        /* Scroll Animation */
        /* Scroll Animation */
        /* Scroll Animation - Handled by GSAP now */
        .reveal {
            /* opacity: 0; REMOVED to prevent invisible content if JS fails */
            /* transform: translateY(30px); REMOVED */
            /* transition: all 0.8s cubic-bezier(0.5, 0, 0, 1); REMOVED for GSAP control */
            visibility: hidden;
            /* Only hide initially, GSAP will handle autoAlpha */
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 90px;
            right: 20px;
            /* Aligned with WA but hidden */
            width: 45px;
            height: 45px;
            background: var(--bg-card);
            color: var(--text-dark);
            border-radius: 50%;
            box-shadow: var(--shadow-soft);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: 0.3s;
            z-index: 990;
            cursor: pointer;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            bottom: 160px;
            /* Stack above WA */
        }

        @media(min-width: 768px) {
            .back-to-top.visible {
                bottom: 100px;
            }
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--primary);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* --- TRUST SECTIONS --- */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .benefit-card {
            background: var(--bg-card);
            padding: 25px;
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow-soft);
            transition: 0.3s;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
        }

        .benefit-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .testimonial-scroll {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 20px;
            margin-bottom: 40px;
            scrollbar-width: none;
        }

        .testimonial-scroll::-webkit-scrollbar {
            display: none;
        }

        .testi-card {
            min-width: 280px;
            background: var(--bg-card);
            padding: 25px;
            border-radius: 16px;
            box-shadow: var(--shadow-soft);
        }

        .stars {
            color: #f1c40f;
            margin-bottom: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ddd;
            margin-right: 10px;
        }

        /* --- CONTACT SECTION --- */
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 60px;
        }

        .map-container {
            border-radius: 20px;
            overflow: hidden;
            height: 350px;
            box-shadow: var(--shadow-soft);
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }

        .contact-form {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow-soft);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            background: var(--bg-body);
            font-family: 'Outfit', sans-serif;
            transition: 0.3s;
            box-sizing: border-box;
            /* Ensure padding doesn't affect width */
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(140, 112, 64, 0.1);
        }

        .form-btn {
            width: 100%;
            margin-top: 10px;
        }

        @media (min-width: 768px) {
            .contact-grid {
                grid-template-columns: 1fr 1fr;
            }


            /* .reveal.active removed - using GSAP */

            /* Heart Click Animation */
            @keyframes heartPulse {
                0% {
                    transform: scale(1);
                }

                50% {
                    transform: scale(1.3);
                }

                100% {
                    transform: scale(1);
                }
            }

            .like-btn.liked {
                color: #e74c3c;
                animation: heartPulse 0.4s ease;
            }

            .like-btn.liked i {
                font-weight: bold;
            }

            /* Button Press Effect */
            .btn-press:active {
                transform: scale(0.95);
            }

            /* Chip Hover */
            .chip:hover {
                transform: translateY(-2px);
                box-shadow: var(--shadow-card);
            }

            @media (min-width: 768px) {
                .grid-pro {
                    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                }

                .bottom-nav {
                    display: none;
                }

                body {
                    padding-bottom: 0;
                }

                /* Desktop Nav */
                .desktop-nav {
                    display: flex;
                    gap: 20px;
                }

                .desktop-nav a {
                    font-weight: 600;
                    color: var(--text-dark);
                }

                /* Modal Desktop Adjustment */
                .sheet-container {
                    flex-direction: row;
                    height: 550px;
                    /* Fixed elegant height */
                    max-height: 80vh;
                }

                .sheet-img {
                    width: 50%;
                    height: 100%;
                    border-right: 1px solid rgba(0, 0, 0, 0.05);
                }

                .sheet-content {
                    padding: 40px;
                }

                .btn-whatsapp-sheet {
                    margin-top: 30px;
                    bottom: auto;
                    left: auto;
                    right: auto;
                    position: static;
                    width: 100%;
                }
            }

            /* Keep close btn */
        }

        /* --- NEW SECTIONS (Improvement 5) --- */
        .trends-section {
            padding: 60px 0;
            background: var(--bg-body);
        }

        .trends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .trend-card {
            background: var(--bg-card);
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            transition: 0.3s;
            border: 1px solid rgba(0, 0, 0, 0.03);
            cursor: pointer;
        }

        .trend-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-card);
        }

        .trend-img {
            height: 180px;
            background-size: cover;
            background-position: center;
        }

        .trend-content {
            padding: 20px;
        }

        .trend-date {
            font-size: 0.75rem;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .newsletter-section {
            margin: 60px 0;
            padding: 60px 40px;
            background: linear-gradient(135deg, var(--primary), #5e4b3a);
            border-radius: var(--radius-lg);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .newsletter-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
            opacity: 0.1;
        }

        .newsletter-content {
            position: relative;
            z-index: 2;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input-group {
            display: flex;
            background: white;
            padding: 5px;
            border-radius: 50px;
            margin-top: 30px;
        }

        .newsletter-input {
            flex: 1;
            border: none;
            outline: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-family: inherit;
        }

        .btn-subscribe {
            background: var(--primary);
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: 600;
            transition: 0.3s;
        }

        .btn-subscribe:hover {
            background: #5e4b3a;
        }

        @media (max-width: 600px) {
            .newsletter-section {
                padding: 40px 20px;
            }

            .newsletter-input-group {
                flex-direction: column;
                background: transparent;
                gap: 10px;
            }

            .newsletter-input {
                background: white;
                border-radius: 50px;
                padding: 15px 20px;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- HEADER -->
        <div class="top-bar">
            <div class="brand">
                <img src="el melaminas logo.jpg" alt="El Melaminas Logo" class="brand-logo">
            </div>

            <nav class="desktop-nav" style="display: none;"> <!-- Visible on desktop via CSS -->
                <a href="#" class="active">Inicio</a>
                <a href="#catalogo">Catálogo</a>
                <a href="#contacto">Contacto</a>
            </nav>

            <div class="flex-between" style="gap: 10px;">
                <button class="icon-btn" onclick="toggleTheme()">
                    <i id="themeIcon" class="ph ph-moon"></i>
                </button>
            </div>
        </div>

        <!-- SEARCH -->
        <div class="search-wrapper">
            <i class="ph ph-magnifying-glass" style="font-size: 1.2rem; color: var(--text-grey);"></i>
            <input type="text" id="searchInput" placeholder="Buscar texturas (Mocca, Olmo...)"
                onkeyup="searchProducts()">
        </div>

        <!-- HERO CARD -->
        <div class="hero-card">
            <div class="hero-bg" id="heroBg"></div>
            <div class="hero-overlay">
                <div class="hero-tag">COLECCIÓN 2026</div>
                <h2 class="hero-title serif-font">Materializa tus Ideas<br>con Elegancia</h2>
                <div style="font-size: 0.9rem; margin-bottom: 20px; opacity: 0.9;">Tableros de alta gama para proyectos
                    exigentes.</div>
                <div class="btn-hero" onclick="document.getElementById('catalogo').scrollIntoView()">Ver Catálogo</div>
            </div>
        </div>

        <!-- CATEGORIES (Pills) -->
        <div
            style="margin-bottom: 10px; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px;">
            Categorías Premium</div>
        <div class="category-scroll">
            <button class="chip active" onclick="filterProducts('all', this)">
                <i class="ph-fill ph-squares-four"></i> Todo
            </button>
            <button class="chip" onclick="filterProducts('maderas', this)">
                <i class="ph-fill ph-tree"></i> Maderas
            </button>
            <button class="chip" onclick="filterProducts('piedras', this)">
                <i class="ph-fill ph-hexagon"></i> Piedras
            </button>
            <button class="chip" onclick="filterProducts('unicolores', this)">
                <i class="ph-fill ph-palette"></i> Unicolores
            </button>
            <button class="chip" onclick="filterProducts('favs', this)" style="border: 1px solid var(--primary);">
                <i class="ph-fill ph-heart" style="color: #e74c3c;"></i> Favoritos
            </button>
        </div>

        <!-- PRODUCT GRID -->
        <div id="catalogo" style="padding-bottom: 30px;">
            <div class="flex-between" style="margin-bottom: 15px;">
                <h3 class="section-title">Destacados</h3>
                <span style="font-size: 0.8rem; color: var(--primary); font-weight: 600;">Ver todos</span>
            </div>

            <div class="grid-pro" id="productGrid">
                <!-- Injected via JS -->
            </div>
        </div>
    </div>

    </div>
    </div>

    <!-- WHY CHOOSE US -->
    <!-- Removed .reveal to prevent nested scroll trigger conflict -->
    <section class="container" style="margin-top: 40px;">
        <h3 class="section-title">¿Por qué elegirnos?</h3>
        <div class="benefits-grid">
            <div class="benefit-card">
                <span class="material-symbols-outlined benefit-icon">verified</span>
                <h4 style="margin-bottom: 8px;">Calidad Premium</h4>
                <p style="font-size: 0.9rem; color: var(--text-grey);">Materiales importados con certificaciones
                    internacionales.</p>
            </div>
            <div class="benefit-card">
                <span class="material-symbols-outlined benefit-icon">local_shipping</span>
                <h4 style="margin-bottom: 8px;">Envíos Seguros</h4>
                <p style="font-size: 0.9rem; color: var(--text-grey);">Protección total de tu carga hasta la entrega.
                </p>
            </div>
            <div class="benefit-card">
                <span class="material-symbols-outlined benefit-icon">support_agent</span>
                <h4 style="margin-bottom: 8px;">Asesoría Técnica</h4>
                <p style="font-size: 0.9rem; color: var(--text-grey);">Expertos disponibles para resolver tus dudas.</p>
            </div>
            <div class="benefit-card">
                <span class="material-symbols-outlined benefit-icon">inventory_2</span>
                <h4 style="margin-bottom: 8px;">Stock Garantizado</h4>
                <p style="font-size: 0.9rem; color: var(--text-grey);">Gran variedad de existencias para entrega
                    inmediata.</p>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS -->
    <section class="container reveal">
        <h3 class="section-title">Lo que dicen nuestros clientes</h3>
        <div class="testimonial-scroll">
            <div class="testi-card">
                <div class="stars">★★★★★</div>
                <p style="font-size: 0.9rem; color: var(--text-grey); margin-bottom: 15px;">"La calidad de la parota es
                    excepcional. Definitivamente volveré a comprar para mis próximos proyectos."</p>
                <div style="display:flex; align-items:center;">
                    <div class="user-avatar"
                        style="background-image: url('https://randomuser.me/api/portraits/men/32.jpg'); background-size: cover;">
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 0.9rem;">Carlos Ruiz</div>
                        <div style="font-size: 0.75rem; color: var(--text-grey);">Arquitecto</div>
                    </div>
                </div>
            </div>
            <div class="testi-card">
                <div class="stars">★★★★★</div>
                <p style="font-size: 0.9rem; color: var(--text-grey); margin-bottom: 15px;">"El servicio de entrega fue
                    rapidísimo y el material llegó en perfectas condiciones. ¡Muy recomendados!"</p>
                <div style="display:flex; align-items:center;">
                    <div class="user-avatar"
                        style="background-image: url('https://randomuser.me/api/portraits/women/44.jpg'); background-size: cover;">
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 0.9rem;">Ana Morales</div>
                        <div style="font-size: 0.75rem; color: var(--text-grey);">Diseñadora de Interiores</div>
                    </div>
                </div>
            </div>
            <div class="testi-card">
                <div class="stars">★★★★★</div>
                <p style="font-size: 0.9rem; color: var(--text-grey); margin-bottom: 15px;">"Variedad increíble de
                    texturas. Encontré justo el acabado piedra que mi cliente estaba buscando."</p>
                <div style="display:flex; align-items:center;">
                    <div class="user-avatar"
                        style="background-image: url('https://randomuser.me/api/portraits/men/85.jpg'); background-size: cover;">
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 0.9rem;">Roberto G.</div>
                        <div style="font-size: 0.75rem; color: var(--text-grey);">Contratista</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTIONS: PROFESSIONALS & INFO -->
    <section id="profesionales" class="container reveal">
        <div class="pro-banner">
            <span class="material-symbols-outlined"
                style="font-size: 3rem; margin-bottom: 10px; color: #d4b475;">architecture</span>
            <h2 style="margin-bottom: 10px;">Área de Profesionales</h2>
            <p style="max-width: 600px; margin: 0 auto 20px; opacity: 0.8;">Acceso exclusivo a texturas en alta
                resolución, archivos BIM/CAD y muestras físicas prioritarias.</p>
            <button class="btn-hero" style="background: #d4b475; color: #111;">Solicitar Acceso</button>
        </div>
    </section>

    <!-- TRENDS & BLOG (Improvement 5) -->
    <section class="container reveal trends-section">
        <div class="flex-between">
            <h3 class="section-title">Tendencias 2026</h3>
            <span style="font-size: 0.8rem; color: var(--primary); font-weight: 600; cursor: pointer;">Leer Blog</span>
        </div>
        <div class="trends-grid">
            <article class="trend-card" onclick="openBlogModal(0)">
                <div class="trend-img"
                    style="background-image: url('https://images.unsplash.com/photo-1513519247388-19345ed5d467?w=400&q=80');">
                </div>
                <div class="trend-content">
                    <div class="trend-date">Enero 2026</div>
                    <h4 style="margin-bottom: 10px;">Madera y Minimalismo</h4>
                    <p style="font-size: 0.85rem; color: var(--text-grey);">Cómo los tonos claros de roble están
                        dominando los espacios abiertos...</p>
                </div>
            </article>
            <article class="trend-card" onclick="openBlogModal(1)">
                <div class="trend-img"
                    style="background-image: url('https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=400&q=80');">
                </div>
                <div class="trend-content">
                    <div class="trend-date">Diciembre 2025</div>
                    <h4 style="margin-bottom: 10px;">Texturas de Piedra Natural</h4>
                    <p style="font-size: 0.85rem; color: var(--text-grey);">El regreso de los acabados marmolados en
                        cocinas de alto tráfico...</p>
                </div>
            </article>
            <article class="trend-card" onclick="openBlogModal(2)">
                <div class="trend-img"
                    style="background-image: url('https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=400&q=80');">
                </div>
                <div class="trend-content">
                    <div class="trend-date">Noviembre 2025</div>
                    <h4 style="margin-bottom: 10px;">Nuevos Negros Matte</h4>
                    <p style="font-size: 0.85rem; color: var(--text-grey);">La elegancia atemporal del negro profundo en
                        herrajes y cubiertas...</p>
                </div>
            </article>
        </div>
    </section>

    <section id="faq" class="container reveal" style="margin-bottom: 40px;">
        <div class="footer-grid" style="grid-template-columns: 1fr 1fr; gap: 40px;">
            <div>
                <h3 class="section-title"><span class="material-symbols-outlined"
                        style="vertical-align:middle; margin-right:8px; color:var(--primary);">help</span>Preguntas
                    Frecuentes</h3>

                <div class="collapse-title" onclick="toggleFaq(this)">
                    ¿Realizan envíos a todo México?
                    <span class="material-symbols-outlined">expand_more</span>
                </div>
                <div class="collapse-content">
                    Sí, contamos con red de distribución en todo el país. El tiempo de entrega varía según la zona,
                    generalmente de 3 a 5 días hábiles.
                </div>

                <div class="collapse-title" onclick="toggleFaq(this)">
                    ¿Venden a particulares?
                    <span class="material-symbols-outlined">expand_more</span>
                </div>
                <div class="collapse-content">
                    Principalmente atendemos a mayoristas y arquitectos, pero puedes contactarnos para dirigirte con
                    nuestro distribuidor más cercano.
                </div>
            </div>

            <div id="envios">
                <h3 class="section-title"><span class="material-symbols-outlined"
                        style="vertical-align:middle; margin-right:8px; color:var(--primary);">local_shipping</span>Política
                    de Envíos</h3>
                <div
                    style="background: var(--bg-card); padding: 25px; border-radius: 20px; box-shadow: var(--shadow-soft);">
                    <ul style="list-style: none; display: flex; flex-direction: column; gap: 15px;">
                        <li style="display:flex; gap:12px; align-items:center;">
                            <span class="material-symbols-outlined" style="color:green;">check_circle</span>
                            <span>Seguro de carga incluido en todos los pedidos.</span>
                        </li>
                        <li style="display:flex; gap:12px; align-items:center;">
                            <span class="material-symbols-outlined" style="color:var(--primary);">schedule</span>
                            <span>Entregas express en zona norte (24-48 hrs).</span>
                        </li>
                        <li style="display:flex; gap:12px; align-items:center;">
                            <span class="material-symbols-outlined" style="color:var(--text-grey);">package_2</span>
                            <span>Embalaje reforzado para evitar daños.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    </section>

    <!-- CONTACT & MAP SECTION -->
    <section id="ubicacion" class="container reveal">
        <h3 class="section-title">Visítanos</h3>
        <div class="contact-grid">
            <!-- Map -->
            <div class="map-container">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d115408.097637777!2d-99.09259837910156!3d19.380531500000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1fd0614838d17%3A0x62923da619c01792!2sIztapalapa%2C%20CDMX!5e0!3m2!1ses!2smx!4v1689623820000!5m2!1ses!2smx"
                    allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>

            <!-- Form -->
            <form class="contact-form" onsubmit="submitForm(event)">
                <h4 style="margin-bottom: 20px; font-family: 'Playfair Display', serif;">Envíanos un mensaje</h4>

                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" class="form-input" placeholder="Tu nombre" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-input" placeholder="ejemplo@correo.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Mensaje</label>
                    <textarea class="form-input" rows="4" placeholder="¿En qué podemos ayudarte?" required></textarea>
                </div>

                <button type="submit" class="btn-hero form-btn">Enviar Mensaje</button>
            </form>
        </div>
    </section>

    <!-- FLOATING WHATSAPP -->
    <a href="https://wa.me/525551597562" target="_blank" class="wa-float" title="Contactar por WhatsApp">
        <i class="ph ph-whatsapp-logo" style="font-size: 2rem;"></i>
    </a>

    <!-- BACK TO TOP -->
    <div class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <span class="material-symbols-outlined">arrow_upward</span>
    </div>

    <!-- NEWSLETTER (Improvement 5) -->
    <section class="container reveal">
        <div class="newsletter-section">
            <div class="newsletter-content">
                <h3 style="font-size: 1.8rem; margin-bottom: 10px;">Únete al Círculo Exclusivo</h3>
                <p style="opacity: 0.9; font-size: 0.95rem;">Recibe antes que nadie las nuevas colecciones, tendencias
                    de diseño y ofertas especiales para profesionales.</p>
                <div class="newsletter-input-group">
                    <input type="email" class="newsletter-input" placeholder="tu@correo.com"
                        aria-label="Correo electrónico para newsletter">
                    <button class="btn-subscribe" onclick="alert('¡Gracias por suscribirte!')">Suscribirme</button>
                </div>
                <p style="margin-top: 15px; font-size: 0.75rem; opacity: 0.7;">No enviamos spam. Puedes cancelar cuando
                    quieras.</p>
            </div>
        </div>
    </section>

    <!-- FOOTER RESTORED -->
    <footer id="contacto" class="reveal">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="brand" style="margin-bottom: 1.5rem;">
                        <img src="el melaminas logo.jpg" alt="El Melaminas Logo" class="brand-logo"
                            style="height: 60px; filter: brightness(1.1);">
                    </div>
                    <p>Expertos en soluciones para mobiliario desde 1996. Transformamos espacios con materiales de
                        vanguardia.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/16wc5EqLiG/?mibextid=wwXIfr" target="_blank"
                            class="social-btn"><i class="ph ph-facebook-logo"></i></a>
                        <a href="https://www.instagram.com/el_melaminas?igsh=MTV0NzMxcGVhZ3JwOQ==" target="_blank"
                            class="social-btn"><i class="ph ph-instagram-logo"></i></a>
                        <a href="#" class="social-btn"><i class="ph ph-whatsapp-logo"></i></a>
                        <a href="https://www.tiktok.com/@elmelaminas" target="_blank" class="social-btn"><i
                                class="ph ph-tiktok-logo"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Enlaces Rápidos</h4>
                    <ul>
                        <li><a href="#">Catálogo Completo</a></li>
                        <li><a href="#">Área de Profesionales</a></li>
                        <li><a href="#">Preguntas Frecuentes</a></li>
                        <li><a href="#">Política de Envíos</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contáctanos</h4>
                    <ul>
                        <li style="display:flex; gap:10px; align-items:center;"><span
                                class="material-symbols-outlined">location_on</span> C. 2 123-C, Granjas San Antonio,
                            Iztapalapa, 09070 CDMX</li>
                        <li style="display:flex; gap:10px; align-items:center;"><span
                                class="material-symbols-outlined">mail</span>
                            ventas@elmelaminas.com</li>
                        <li style="display:flex; gap:10px; align-items:center;"><span
                                class="material-symbols-outlined">call</span> 55-51-59-75-62</li>
                    </ul>
                </div>
            </div>
            <div
                style="text-align:center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 2rem; font-size: 0.8rem;">
                &copy; <span id="year"></span> El Melaminas. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <!-- BOTTOM NAV (MOBILE) -->
    <div class="bottom-nav">
        <div class="nav-item active">
            <span class="material-symbols-outlined">home</span>
            <span>Inicio</span>
        </div>
        <div class="nav-item" onclick="document.getElementById('catalogo').scrollIntoView()">
            <span class="material-symbols-outlined">menu_book</span>
            <span>Catálogo</span>
        </div>
        <div class="nav-item">
            <span class="material-symbols-outlined">verified_user</span>
            <span>Garantía</span>
        </div>
        <div class="nav-item">
            <i class="ph ph-whatsapp-logo" style="font-size: 1.5rem;"></i>
            <span>Contacto</span>
        </div>
    </div>

    <!-- MODAL (BOTTOM SHEET) -->
    <div id="productModal" class="modal">
        <div class="sheet-container">
            <div class="sheet-img" id="modalImg">
                <div class="back-btn" onclick="closeModal()">
                    <i class="ph-bold ph-arrow-left"></i>
                </div>
                <div class="actions-top">
                    <!-- Share and Like placeholders -->
                    <div class="back-btn like-btn" onclick="toggleLike(this)" style="position:static; cursor:pointer;">
                        <i class="ph-fill ph-heart"></i>
                    </div>
                    <div class="back-btn btn-press" onclick="shareProduct()" style="position:static; cursor:pointer;">
                        <i class="ph-bold ph-share-network"></i>
                    </div>
                </div>
            </div>

            <div class="sheet-content">
                <div class="sheet-handle"></div>

                <div style="text-align: center; margin-bottom: 20px;">
                    <span class="chip"
                        style="display:inline-flex; padding: 4px 12px; font-size: 0.7rem; margin-bottom: 10px; background: #f4efe6; color: var(--primary);">MADERAS
                        PRECIOSAS</span>
                    <h2 id="modalTitle" class="serif-font" style="font-size: 2rem; margin-bottom: 5px;">Parota Premium
                    </h2>
                    <p style="font-size: 0.9rem; color: var(--text-grey); font-style: italic;">Textura orgánica y tonos
                        cálidos que definen el lujo.</p>
                </div>

                <div class="spec-grid">
                    <div class="spec-box">
                        <div class="spec-label"><i class="ph-bold ph-ruler"></i> Dimensiones</div>
                        <div class="spec-val">1.22 x 2.44 m</div>
                    </div>
                    <div class="spec-box">
                        <div class="spec-label"><i class="ph-bold ph-layers"></i> Espesores</div>
                        <div class="spec-val">15mm / 18mm</div>
                    </div>
                </div>

                <div style="display:flex; align-items: center; gap: 10px; margin: 20px 0 10px;">
                    <div style="height: 1px; flex: 1; background: #eee;"></div>
                    <span style="font-size: 0.8rem; font-weight: 700; letter-spacing: 1px;">FICHA TÉCNICA</span>
                    <div style="height: 1px; flex: 1; background: #eee;"></div>
                </div>

                <div class="tech-item">
                    <div class="tech-icon"><i class="ph-fill ph-shield-check"></i></div>
                    <div>
                        <div style="font-weight: 600;">Protección Antibacterial</div>
                        <div style="font-size: 0.8rem; color: var(--text-grey);">Elimina el 99% de microorganismos.
                        </div>
                    </div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon"><i class="ph-fill ph-sparkle"></i></div>
                    <div>
                        <div style="font-weight: 600;">Resistencia al Rayado</div>
                        <div style="font-size: 0.8rem; color: var(--text-grey);">Ideal para uso rudo y residencial.
                        </div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <div style="font-weight: 700; font-size: 0.8rem; margin-bottom: 10px;">APLICACIONES SUGERIDAS</div>
                    <div class="app-thumbnails">
                        <img src="https://images.unsplash.com/photo-1556911220-e15b29be8c8f?w=150&h=150&fit=crop"
                            class="app-thumb">
                        <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=150&h=150&fit=crop"
                            class="app-thumb">
                        <img src="https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?w=150&h=150&fit=crop"
                            class="app-thumb">
                    </div>
                </div>

                <a href="#" id="modalWhatsapp" target="_blank" class="btn-whatsapp-sheet">
                    <i class="ph ph-whatsapp-logo" style="font-size: 1.4rem;"></i> Cotizar por WhatsApp
                </a>
            </div>
        </div>
    </div>

    <!-- BLOG MODAL -->
    <div id="blogModal" class="modal">
        <div class="sheet-container" style="max-width: 800px;">
            <div class="sheet-content" style="width: 100%; overflow-y: auto;">
                <div class="flex-between" style="margin-bottom: 20px;">
                    <div id="blogDate" class="trend-date"></div>
                    <i class="ph ph-x" onclick="closeBlogModal()" style="cursor:pointer; font-size: 1.5rem;"></i>
                </div>
                <h2 id="blogTitle" class="serif-font" style="font-size: 2.2rem; margin-bottom: 20px;"></h2>
                <div id="blogBody" style="line-height: 1.8; color: var(--text-grey);"></div>
                <button class="btn-hero" onclick="closeBlogModal()"
                    style="margin-top: 30px; width: 100%;">Cerrar</button>
            </div>
        </div>
    </div>

    <script>
        // DATA
        const products = [
            // MADERAS
            { id: 1, name: "Mocca Elite", category: "maderas", style: "wood-texture", color: "repeating-linear-gradient(90deg, #6f5b48 0px, #5e4b3a 2px, #6f5b48 5px)", badge: "NUEVO" },
            { id: 2, name: "Olmo Nórdico", category: "maderas", style: "wood-texture", color: "repeating-linear-gradient(90deg, #eaddcf 0px, #dcc0aa 2px, #eaddcf 6px)", badge: "PREMIUM" },
            { id: 3, name: "Oporto", category: "maderas", style: "wood-red", color: "repeating-linear-gradient(90deg, #8a5a44 0px, #754833 2px, #8a5a44 6px)" },
            { id: 4, name: "Lombardía", category: "maderas", style: "wood-grey", color: "repeating-linear-gradient(90deg, #888 0px, #777 2px, #888 6px)" },
            { id: 7, name: "Parota Exótica", category: "maderas", style: "wood-texture", color: "repeating-linear-gradient(90deg, #5c4736 0px, #423126 2px, #5c4736 8px, #332211 9px)", badge: "TOP" },
            { id: 10, name: "Wengue", category: "maderas", style: "wood-dark", color: "repeating-linear-gradient(90deg, #382c26 0px, #261c18 2px, #382c26 5px)" },
            // PIEDRAS
            { id: 25, name: "Cemento Urban", category: "piedras", style: "stone-texture", color: "#a5a9b0" },
            { id: 26, name: "Mármol Negro", category: "piedras", style: "stone-dark", color: "#111", badge: "LUJO" },
            { id: 27, name: "Carrara", category: "piedras", style: "stone-texture", color: "#f9f9f9" },
            // UNICOLORES
            { id: 32, name: "Negro Matte", category: "unicolores", style: "solid-texture", color: "#111" },
            { id: 34, name: "Lino Grafito", category: "textiles", style: "textile-texture", color: "#aaa" },
        ];

        const blogArticles = [
            {
                title: "Madera y Minimalismo: El Renacimiento del Roble",
                date: "Enero 2026",
                body: `<p>El diseño de interiores para el 2026 marca una clara tendencia hacia la honestidad de los materiales. La melamina con veta de roble claro se ha convertido en la protagonista indiscutible de los hogares modernos.</p><p>Esta tendencia busca maximizar la luz natural combinando mobiliario en tonos miel con paredes blancas y plantas naturales. La clave está en la textura "Sincronizada", que permite sentir el relieve de la madera al tacto, elevando la percepción de calidad en cualquier proyecto residencial.</p>`
            },
            {
                title: "Piedra Natural: Elegancia Industrial",
                date: "Diciembre 2025",
                body: `<p>Las cubiertas que imitan el mármol y la piedra volcánica están redefiniendo las cocinas mexicanas. El contraste entre materiales fríos como la piedra y elementos cálidos como la iluminación indirecta crea un ambiente de hotel boutique en casa.</p><p>Nuestras melaminas de la colección 'Piedras' ofrecen esta estética de alto impacto con la ventaja de una durabilidad superior y cero mantenimiento comparado con la piedra real.</p>`
            },
            {
                title: "La Magia del Negro Matte",
                date: "Noviembre 2025",
                body: `<p>El negro ya no es un color de acento, es una elección de estilo completa. El acabado 'Matte' absoluto elimina reflejos innecesarios y huellas dactilares, permitiendo que la forma del mueble hable por sí misma.</p><p>Ideal para oficinas de diseño y estudios creativos donde la sobriedad es sinónimo de profesionalismo.</p>`
            }
        ];

        // FAVORITES LOGIC
        let favorites = JSON.parse(localStorage.getItem('melaminas_favs')) || [];

        function toggleFavorite(productId, btn) {
            const index = favorites.indexOf(productId);
            if (index > -1) {
                favorites.splice(index, 1);
                btn.classList.remove('liked');
            } else {
                favorites.push(productId);
                btn.classList.add('liked');
            }
            localStorage.setItem('melaminas_favs', JSON.stringify(favorites));
        }

        // GSAP ANIMATIONS & INIT
        function initGSAP() {
            gsap.registerPlugin(ScrollTrigger);

            // 1. Hero Animation (Entrance)
            // 1. Hero Animation (Entrance) - Use autoAlpha for visibility safety
            const tl = gsap.timeline();
            tl.fromTo('.hero-overlay', { autoAlpha: 0, y: 50 }, { duration: 1.2, autoAlpha: 1, y: 0, ease: 'power4.out' })
                .fromTo('.hero-tag', { autoAlpha: 0, x: -20 }, { duration: 0.8, autoAlpha: 1, x: 0, ease: 'power2.out' }, '-=0.7')
                .fromTo('.hero-title', { autoAlpha: 0, y: 20 }, { duration: 0.8, autoAlpha: 1, y: 0, ease: 'power2.out' }, '-=0.6')
                .fromTo('.chip', { autoAlpha: 0, y: 20 }, { duration: 0.6, autoAlpha: 1, y: 0, stagger: 0.1, ease: 'back.out(1.7)' }, '-=0.5');

            // 2. Scroll Animations (Sections) - Robust AutoAlpha
            const sections = gsap.utils.toArray('.reveal');
            sections.forEach(section => {
                gsap.fromTo(section,
                    { autoAlpha: 0, y: 50 }, // Start state
                    {
                        scrollTrigger: {
                            trigger: section,
                            start: 'top 90%', // Refined for earlier activation
                            toggleActions: 'play none none reverse',
                            // markers: true, // DEBUG
                        },
                        autoAlpha: 1, // Ensures visibility even if opacity was 0
                        y: 0,
                        duration: 1,
                        ease: 'power3.out'
                    }
                );
            });

            // 3. Stagger for "Why Choose Us"
            // Ensure container is visible before staggering children
            gsap.set('.benefits-grid', { autoAlpha: 1 });

            gsap.fromTo('.benefit-card',
                { autoAlpha: 0, y: 30 },
                {
                    scrollTrigger: {
                        trigger: '.benefits-grid',
                        start: 'top 90%', // Refined for earlier activation
                    },
                    autoAlpha: 1,
                    y: 0,
                    duration: 0.8,
                    stagger: 0.2,
                    ease: 'power2.out'
                }
            );
        }

        // MICRO-INTERACTIONS
        function toggleLike(btn) {
            const productId = btn.dataset.productId;
            if (productId) {
                toggleFavorite(parseInt(productId), btn);
            } else {
                btn.classList.toggle('liked');
            }
        }

        // RENDER PRODUCTS
        function renderProducts(filter = 'all', searchTerm = '') {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';

            const filtered = products.filter(p => {
                // Handle Favorites filter specifically
                const matchCat = filter === 'all' ||
                    (filter === 'favs' ? favorites.includes(p.id) : p.category === filter);

                // Smart Search: matches name or category
                const term = searchTerm.toLowerCase();
                const matchSearch = p.name.toLowerCase().includes(term) ||
                    p.category.toLowerCase().includes(term);

                return matchCat && matchSearch;
            });

            filtered.forEach(p => {
                const card = document.createElement('div');
                card.className = 'prod-card reveal';
                card.onclick = () => openModal(p);

                const isLiked = favorites.includes(p.id) ? 'liked' : '';
                let bgStyle = `background: ${p.color}`;

                const badgeHtml = p.badge ? `<div class="badge">${p.badge}</div>` : '';

                card.innerHTML = `
                    ${badgeHtml}
                    <div class="prod-img">
                        <div class="prod-texture ${p.style}" style="${bgStyle}"></div>
                    </div>
                    <div class="prod-info">
                        <div class="flex-between" style="margin-bottom: 5px;">
                            <div class="prod-name">${p.name}</div>
                            <i class="ph-fill ph-heart like-btn ${isLiked}" 
                               onclick="event.stopPropagation(); toggleFavorite(${p.id}, this)" 
                               style="cursor:pointer; font-size: 1.2rem;"></i>
                        </div>
                        <div class="prod-detail">Veta natural • Sincronizada</div>
                        <button class="btn-sm">
                            <span class="material-symbols-outlined" style="font-size:1rem;">visibility</span> Ver Detalles
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });

            // Animate only the new cards with GSAP Batch/Stagger
            // Use fromTo to ensure visibility is reset
            gsap.fromTo('.prod-card',
                { autoAlpha: 0, y: 30 },
                {
                    autoAlpha: 1,
                    y: 0,
                    duration: 0.5,
                    stagger: 0.05, // Faster stagger
                    ease: 'power2.out',
                    clearProps: 'transform' // Only clear transform so opacity/visibility stays
                }
            );
        }

        // FILTER LOGIC
        function filterProducts(cat, btn) {
            // Update active chip
            if (btn) {
                document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
            }
            renderProducts(cat, document.getElementById('searchInput').value);
        }

        function searchProducts() {
            const term = document.getElementById('searchInput').value;
            // If searching, we reset the active chip to 'all' for broader results
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            document.querySelector('.chip[onclick*="all"]').classList.add('active');
            renderProducts('all', term);
        }

        // SHARE LOGIC
        async function shareProduct() {
            const title = document.getElementById('modalTitle').innerText;
            const text = `Mira esta textura increíble: ${title} en El Melaminas`;
            const url = window.location.href;

            if (navigator.share) {
                try {
                    await navigator.share({
                        title: title,
                        text: text,
                        url: url
                    });
                } catch (err) {
                    console.log('Error compartiendo:', err);
                }
            } else {
                // Fallback: Copy to clipboard
                try {
                    await navigator.clipboard.writeText(url);
                    alert('¡Enlace de El Melaminas copiado al portapapeles!');
                } catch (err) {
                    alert('¡Sigue a El Melaminas! (Simulado: ' + url + ')');
                }
            }
        }

        // FAQ TOGGLE
        function toggleFaq(el) {
            const content = el.nextElementSibling;
            content.classList.toggle('open');
            const icon = el.querySelector('span');
            icon.innerText = content.classList.contains('open') ? 'expand_less' : 'expand_more';
        }

        // MODAL LOGIC
        function openModal(p) {
            const modal = document.getElementById('productModal');
            document.getElementById('modalTitle').innerText = p.name;

            // Set image texture/color
            const imgContainer = document.getElementById('modalImg');
            let bgStyle = `background: ${p.color}`;
            imgContainer.setAttribute('style', bgStyle);
            // Re-apply class for texture patterns
            imgContainer.className = `sheet-img ${p.style}`;

            // Config WhatsApp with better details
            const isLiked = favorites.includes(p.id) ? 'liked' : '';
            const likeBtn = modal.querySelector('.like-btn');
            likeBtn.dataset.productId = p.id;
            if (isLiked) likeBtn.classList.add('liked');
            else likeBtn.classList.remove('liked');

            const waMsg = `Hola El Melaminas, me interesa recibir una cotización de: *${p.name}* (Categoría: ${p.category}). ¿Tienen disponibilidad inmediata?`;
            const url = `https://wa.me/525551597562?text=${encodeURIComponent(waMsg)}`;
            document.getElementById('modalWhatsapp').href = url;

            modal.style.display = 'flex';
            // Small delay for animation
            setTimeout(() => modal.classList.add('open'), 10);
        }

        function closeModal() {
            const modal = document.getElementById('productModal');
            modal.classList.remove('open');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300); // Wait for transition
        }

        // BLOG MODAL LOGIC
        function openBlogModal(index) {
            const article = blogArticles[index];
            const modal = document.getElementById('blogModal');
            document.getElementById('blogTitle').innerText = article.title;
            document.getElementById('blogDate').innerText = article.date;
            document.getElementById('blogBody').innerHTML = article.body;

            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('open'), 10);
        }

        function closeBlogModal() {
            const modal = document.getElementById('blogModal');
            modal.classList.remove('open');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // THEME
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.getAttribute('data-theme') === 'dark';
            html.setAttribute('data-theme', isDark ? 'light' : 'dark');
            document.getElementById('themeIcon').classList.toggle('ph-sun');
            document.getElementById('themeIcon').classList.toggle('ph-moon');
        }


        // PARALLAX EFFECT (Now handled via GSAP ScrollTrigger for better performance)
        function initParallax() {
            gsap.to('#heroBg', {
                scrollTrigger: {
                    trigger: '.hero-card',
                    start: 'top top',
                    end: 'bottom top',
                    scrub: 1 // Higher value = smoother, more fluid movement
                },
                y: '30%', // Slightly more movement for depth
                ease: 'none'
            });
        }

        // INIT
        document.getElementById('year').innerText = new Date().getFullYear();

        // Back to Top Logic
        window.addEventListener('scroll', () => {
            const btn = document.querySelector('.back-to-top');
            if (window.scrollY > 500) btn.classList.add('visible');
            else btn.classList.remove('visible');
        });

        // FORM SUBMIT
        function submitForm(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalText = btn.innerText;

            btn.innerText = 'Enviando...';
            btn.style.opacity = '0.7';

            // Simulate API call
            setTimeout(() => {
                alert('¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto.');
                e.target.reset();
                btn.innerText = originalText;
                btn.style.opacity = '1';
            }, 1500);
        }

        renderProducts();

        // Init GSAP after load to ensure layout positions are correct
        window.addEventListener('load', () => {
            initGSAP();
            initParallax();
            ScrollTrigger.refresh();
        });

    </script>
</body>

</html>